<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calculate Discount</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* Theme-specific styles from Home.html */
        .theme-candy { background-color: #ff80bf; color: #fff; --accent: #ff3399; }
        .theme-bleed { background-color: #e20074; color: #fff; --accent: #ff66b2; }
        .theme-midnight { background-color: #002b36; color: #839496; --accent: #b58900; }
        .theme-sea { background-color: #1c2526; color: #c3e6cb; --accent: #4db6ac; }
        .theme-howl { background-color: #011627; color: #d6deeb; --accent: #82aaff; }
        .theme-dawn { background-color: #2d2e2c; color: #fff; --accent: #ff7043; }
        .theme-night { background-color: #1e222a; color: #abb2bf; --accent: #98c379; }
        .theme-drank { background-color: #0f111a; color: #acb4c2; --accent: #5c6370; }
        .theme-eve { background-color: #f4eefd; color: #4b294b; --accent: #d08770; }
        .theme-gray { background-color: #3c3c3c; color: #cccccc; --accent: #87afaf; }
        .theme-ocean { background-color: #2b303b; color: #c0c5ce; --accent: #8fa1b3; }
        .theme-auro { background-color: #1b1e2b; color: #e6e6e6; --accent: #ff6f61; }
        .theme-pm { background-color: #2c1d4b; color: #d7d7ff; --accent: #957fb8; }
        .theme-ember { background-color: #1b1818; color: #d4b7a3; --accent: #ff6b6b; }
        .theme-flare { background-color: #451804; color: #f4e6a2; --accent: #ff4500; }

        /* Text color adjustments for readability */
        .theme-candy main, .theme-candy header, .theme-candy a,
        .theme-eve main, .theme-eve header, .theme-eve a {
            color: #000;
        }
        .theme-bleed main, .theme-bleed header, .theme-bleed a,
        .theme-midnight main, .theme-midnight header, .theme-midnight a,
        .theme-sea main, .theme-sea header, .theme-sea a,
        .theme-howl main, .theme-howl header, .theme-howl a,
        .theme-dawn main, .theme-dawn header, .theme-dawn a,
        .theme-night main, .theme-night header, .theme-night a,
        .theme-drank main, .theme-drank header, .theme-drank a,
        .theme-gray main, .theme-gray header, .theme-gray a,
        .theme-ocean main, .theme-ocean header, .theme-ocean a,
        .theme-auro main, .theme-auro header, .theme-auro a,
        .theme-pm main, .theme-pm header, .theme-pm a,
        .theme-ember main, .theme-ember header, .theme-ember a,
        .theme-flare main, .theme-flare header, .theme-flare a {
            color: #fff;
        }

        /* Apply accent color to buttons */
        .theme-candy button:not(#back-btn),
        .theme-bleed button:not(#back-btn),
        .theme-midnight button:not(#back-btn),
        .theme-sea button:not(#back-btn),
        .theme-howl button:not(#back-btn),
        .theme-dawn button:not(#back-btn),
        .theme-night button:not(#back-btn),
        .theme-drank button:not(#back-btn),
        .theme-eve button:not(#back-btn),
        .theme-gray button:not(#back-btn),
        .theme-ocean button:not(#back-btn),
        .theme-auro button:not(#back-btn),
        .theme-pm button:not(#back-btn),
        .theme-ember button:not(#back-btn),
        .theme-flare button:not(#back-btn) {
            background-color: var(--accent);
        }

        /* Ensure input fields are readable */
        .theme-candy input, .theme-eve input {
            background-color: #fff;
            color: #000;
        }
        .theme-candy input:focus, .theme-eve input:focus {
            background-color: #fff;
            color: #000;
            border-color: #4b5563;
        }
        .theme-candy label, .theme-eve label {
            color: #000;
        }
    </style>
</head>
<body class="min-h-screen flex items-center justify-center">
    <main class="bg-white p-6 rounded-lg shadow-lg w-full max-w-md">
        <h2 class="text-2xl font-bold text-center mb-6 text-gray-900">Calculate Discount</h2>
        <form id="calcForm" onsubmit="calculateDiscount(event)">
            <div class="mb-4">
                <label for="amount" class="block text-sm font-semibold text-gray-700">Amount (₱):</label>
                <input type="number" id="amount" step="0.01" min="0" placeholder="e.g., 1000" required 
                       class="mt-1 block w-full p-2 border border-gray-300 rounded-md bg-white text-gray-900 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500">
            </div>

            <div class="mb-4">
                <label for="discount" class="block text-sm font-semibold text-gray-700">Discount (%):</label>
                <input type="number" id="discount" step="0.1" min="0" max="100" placeholder="e.g., 20" required 
                       class="mt-1 block w-full p-2 border border-gray-300 rounded-md bg-white text-gray-900 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500">
            </div>

            <button type="submit" class="w-full text-white p-2 rounded-md hover:bg-opacity-90">Calculate</button>
        </form>
        <div id="error" class="mt-4 p-2 bg-red-100 text-red-700 rounded-md hidden"></div>
        <div id="result" class="mt-4 p-2 bg-blue-100 text-blue-700 rounded-md hidden"></div>
    </main>

    <a href="Home.html" id="back-btn" class="fixed bottom-5 right-5 bg-gray-800 text-white py-2 px-3 rounded-xl border border-gray-600 hover:bg-gray-700">Back</a>

    <script>
        // Load and apply saved theme
        const savedTheme = localStorage.getItem('selectedTheme') || 'candy';
        document.body.className = `min-h-screen flex items-center justify-center theme-${savedTheme}`;

        function calculateDiscount(event) {
            event.preventDefault();
            
            const amount = parseFloat(document.getElementById('amount').value);
            const discount = parseFloat(document.getElementById('discount').value);
            const errorDiv = document.getElementById('error');
            const resultDiv = document.getElementById('result');

            // Reset displays
            errorDiv.classList.add('hidden');
            resultDiv.classList.add('hidden');
            errorDiv.textContent = '';
            resultDiv.textContent = '';

            // Validate inputs
            if (isNaN(amount) || amount < 0) {
                errorDiv.textContent = 'Please enter a valid amount.';
                errorDiv.classList.remove('hidden');
                return;
            }
            if (isNaN(discount) || discount < 0 || discount > 100) {
                errorDiv.textContent = 'Please enter a valid discount percentage (0–100).';
                errorDiv.classList.remove('hidden');
                return;
            }

            // Calculate discounted price
            const discountedPrice = amount * (1 - discount / 100);

            // Display result
            resultDiv.textContent = `Discounted Price: ₱${discountedPrice.toFixed(2)}`;
            resultDiv.classList.remove('hidden');
        }
    </script>
</body>
</html>